{"version":3,"sources":["../../dist/index.es.js","components/BasicExample.js","components/StyledExample.js","App.js","reportWebVitals.js","index.js"],"names":["STATES","startOrEnd","unmounted","updateState","newState","setState","latestState","timeoutId","clearTimeout","current","useTransition","enterTimeout","exitTimeout","initialEntered","mountOnEnter","unmountOnExit","timeout","preEnter","preExit","enter","exit","useState","state","useRef","endTransition","useCallback","transitState","setTimeout","toggle","toEnter","enterStage","useEffect","BasicExample","setUnmountOnExit","className","type","checked","onChange","e","target","onClick","href","Container","styled","div","Box","StyledExample","showButton","App","title","src","alt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3e8dccd7.chunk.js","sourcesContent":["import { useState, useRef, useCallback, useEffect } from 'react';\n\nconst PRE_ENTER = 0;\nconst ENTERING = 1;\nconst ENTERED = 2;\nconst PRE_EXIT = 3;\nconst EXITING = 4;\nconst EXITED = 5;\nconst UNMOUNTED = 6;\nconst STATES = ['preEnter', 'entering', 'entered', 'preExit', 'exiting', 'exited', 'unmounted'];\n\nconst startOrEnd = (unmounted) => (unmounted ? UNMOUNTED : EXITED);\n\nconst updateState = (newState, setState, latestState, timeoutId) => {\n  clearTimeout(timeoutId.current);\n  setState(newState);\n  latestState.current = newState;\n};\n\nconst useTransition = ({\n  initialEntered,\n  mountOnEnter,\n  unmountOnExit,\n  timeout,\n  preEnter,\n  preExit,\n  enter = true,\n  exit = true\n} = {}) => {\n  const [state, setState] = useState(initialEntered ? ENTERED : startOrEnd(mountOnEnter));\n  const latestState = useRef(state);\n  const timeoutId = useRef();\n\n  let enterTimeout, exitTimeout;\n  if (typeof timeout === 'object') {\n    enterTimeout = timeout.enter;\n    exitTimeout = timeout.exit;\n  } else {\n    enterTimeout = exitTimeout = timeout;\n  }\n\n  const endTransition = useCallback(() => {\n    let newState;\n    switch (latestState.current) {\n      case PRE_ENTER:\n      case ENTERING:\n        newState = ENTERED;\n        break;\n      case PRE_EXIT:\n      case EXITING:\n        newState = startOrEnd(unmountOnExit);\n        break;\n    }\n\n    if (newState) {\n      updateState(newState, setState, latestState, timeoutId);\n    }\n  }, [unmountOnExit]);\n\n  const transitState = useCallback(\n    (newState) => {\n      updateState(newState, setState, latestState, timeoutId);\n\n      switch (newState) {\n        case PRE_ENTER:\n        case PRE_EXIT:\n          timeoutId.current = setTimeout(() => transitState(newState + 1), 0);\n          break;\n        case ENTERING:\n          if (enterTimeout >= 0) timeoutId.current = setTimeout(endTransition, enterTimeout);\n          break;\n        case EXITING:\n          if (exitTimeout >= 0) timeoutId.current = setTimeout(endTransition, exitTimeout);\n          break;\n      }\n    },\n    [enterTimeout, exitTimeout, endTransition]\n  );\n\n  const toggle = useCallback(\n    (toEnter) => {\n      const enterStage = latestState.current <= ENTERED;\n      if (typeof toEnter !== 'boolean') toEnter = !enterStage;\n\n      if (toEnter) {\n        if (!enterStage) {\n          transitState(enter ? (preEnter ? PRE_ENTER : ENTERING) : ENTERED);\n        }\n      } else {\n        if (enterStage) {\n          transitState(exit ? (preExit ? PRE_EXIT : EXITING) : startOrEnd(unmountOnExit));\n        }\n      }\n    },\n    [enter, exit, preEnter, preExit, unmountOnExit, transitState]\n  );\n\n  useEffect(() => () => clearTimeout(timeoutId.current), []);\n\n  return [STATES[state], toggle, endTransition];\n};\n\nexport { useTransition as default, useTransition };\n","import { useState } from 'react';\nimport useTransition from 'react-transition-state';\n\nfunction BasicExample() {\n  const [unmountOnExit, setUnmountOnExit] = useState(false);\n  const [state, toggle] = useTransition({\n    timeout: 750,\n    initialEntered: true,\n    preEnter: true,\n    unmountOnExit\n  });\n\n  return (\n    <div className=\"basic-example\">\n      <h1>Basic example</h1>\n      <div className=\"basic-console\">\n        <div className=\"basic-state\">state: {state}</div>\n        <label>\n          Unmount after hiding\n          <input\n            type=\"checkbox\"\n            checked={unmountOnExit}\n            onChange={(e) => setUnmountOnExit(e.target.checked)}\n          />\n        </label>\n        <button className=\"btn\" onClick={() => toggle()}>\n          {state === 'entering' || state === 'entered' ? 'Hide' : 'Show'}\n        </button>\n      </div>\n      {state !== 'unmounted' && (\n        <div className={`basic-transition ${state}`}>React transition state</div>\n      )}\n      <a className=\"code-sandbox\" href=\"https://codesandbox.io/s/react-transition-basic-100io\">\n        Edit on CodeSandbox\n      </a>\n    </div>\n  );\n}\n\nexport default BasicExample;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useTransition } from 'react-transition-state';\n\nconst Container = styled.div`\n  margin: 1rem;\n  margin-top: 200px;\n`;\n\nconst Box = styled.div`\n  border: 2px solid;\n  padding: 1rem;\n  transition: all 500ms;\n  max-width: 600px;\n  margin: 0 auto;\n  border-radius: 0.5rem;\n\n  ${({ state }) =>\n    (state === 'preEnter' || state === 'exiting') &&\n    `\n      opacity: 0;\n      transform: scale(0.9);\n    `}\n`;\n\nfunction StyledExample() {\n  const [state, toggle] = useTransition({\n    timeout: 500,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    preEnter: true\n  });\n\n  const showButton = state === 'unmounted';\n  return (\n    <Container>\n      <h1>styled-components example</h1>\n      {showButton && (\n        <button className=\"btn\" onClick={() => toggle(true)}>\n          Show Message\n        </button>\n      )}\n      {!showButton && (\n        <Box state={state}>\n          <h2>state: {state}</h2>\n          <p>This message is being transitioned in and out of the DOM.</p>\n          <button className=\"btn\" onClick={() => toggle(false)}>\n            Close\n          </button>\n        </Box>\n      )}\n      <a className=\"code-sandbox\" href=\"https://codesandbox.io/s/react-transition-styled-3id7q\">\n        Edit on CodeSandbox\n      </a>\n    </Container>\n  );\n}\n\nexport default StyledExample;\n","import BasicExample from './components/BasicExample';\nimport StyledExample from './components/StyledExample';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <a href=\"https://github.com/szhsin/react-transition-state\" title=\"GitHub\" className=\"github\">\n        <img src=\"GitHub-64.png\" alt=\"GitHub\" />\n      </a>\n      <BasicExample />\n      <StyledExample />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}